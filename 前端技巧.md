# 使用技巧

- 利用委托冒泡，检测`ul`下被点击的`li`标签
```
window.onload = function(){
  var oUl = document.getElementById("ul");
  var aLi = oUl.getElementsByTagName("li");
   oUl.onclick = function(ev){ 
    var ev = ev || window.event;
    var target = ev.target || ev.srcElement;
         if(target.nodeName.toLowerCase() == "li"){
             var that=target;
             var index;
             for(var i=0;i<aLi.length;i++){
               if(aLi[i]===target){
                 index=i;
               }
             }
             if(index>=0){
               alert('我的下标是：'+index);
             }
         }
   }
}
```

- 当使用 `for in` 循环遍历对象的属性时，原型链上的所有属性都将被访问，因此如果遍历数组，尽可能使用传统的 `for` 循环

- 当检查对象上某个属性是否存在时，hasOwnProperty 是唯一可用的方法。 同时在使用 for in loop 遍历对象时，推荐总是使用 hasOwnProperty 方法，这将会避免原型对象扩展带来的干扰。

- 应该尽量避免使用数组构造函数创建新数组。推荐使用数组的字面语法。它们更加短小和简洁，因此增加了代码的可读性。

- 为了检测一个对象的类型，强烈推荐使用 Object.prototype.toString 方法； 因为这是唯一一个可依赖的方式。

- instanceof 操作符应该仅仅用来比较来自同一个 JavaScript 上下文的自定义对象。 正如 typeof 操作符一样，任何其它的用法都应该是避免的。

- 手工清空定时器
```
// 每个setTimeout 都会返回一个 ID 标识
var id = setTimeout(foo, 1000);
clearTimeout(id);

// 清空"所有"的定时器
for(var i = 1; i < 1000; i++) {
    clearTimeout(i);
}
```
